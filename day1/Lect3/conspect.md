## Лекция 3. Структурный подход к проектированию ПО

***Структурно-процедурный*** стиль создания ПО.

### Шаг 1. Простая задача
* Нужно научиться работать с книгами. Как минимум хочется научиться их хранить и что-то с ними делать.
* Что книгу делает книгой?
    * У каждой книги есть название
    * У каждой книги есть автор
    * Год издания
    * Количество страниц

* Решение
```
"""
Третий вариант хранения книг.
1) Создадим заименованный набор полей - структура
"""

class Book:
    title = ""
    author = ""
    year_pub = 0
    pages = 0

b1 = Book()
b1.title = "LOTR:1"
b1.author = "J.J.Tolkin"
b1.year_pub = 1968
b1.pages = 783



b2 = Book()
b2.title = "LOTR:2"
b2.author = "J.J.Tolkin"
b2.year_pub = 1975
b2.pages = 890

b3 = Book()

books = [b1, b2, b3] # <---- Вот теперь мы храним список КНИГ!!!!!!!

for book in books:
    print(book.title, book.year_pub)
```

* ```Структура``` - это заименованный набор полей, которые описывают, ***ИЗ ЧЕГО СОСТОИТ*** описываемый представитель (в нашем случае книга).
* ```Представитель структуры``` - это тот, кто был создан с учетом наличия полей описанной структуры. (это тот , кто ***СОСТОИТ ИЗ*** того, что было описано в структуре)

### Шаг 2. Структуры и процедуры. Класс как структура
* Решим простую задачу - нужно подсчитать длину отрезка, построенного на двух точках.
```
"""
Модуль содержащий описание структуры Точка
"""

class Point:
    """
    Это структура Точки
    * содержит поле x - это координата x
    * содержит поле y - это координата y
    """
    x = 0
    y = 0



def length(p1 :Point, p2 :Point) -> float:
    """
    Подсчет длины отрезка на точках
    p1 p2
    """
    delta_x = p1.x-p2.x
    delta_y = p1.y - p2.y
    result = (delta_x ** 2 + delta_y ** 2) ** 0.5
    return result

def main():
    """
    Входная точка в приложение
    """
    p1 = Point()
    p1.x = 0
    p1.y = 0

    p2 = Point()
    p2.x = 10
    p2.y = 10
    print(length(p1, p2))

if __name__ == "__main__":
    main()
```

* Во фрагменте выше приведена структура  ```Point``` и процедура  ```length```

* Добавим новую процедуру ```point_creator``` - позволяет создавать точки!
```
"""
Модуль содержащий описание структуры Точка
"""

class Point:
    """
    Это структура Точки
    * содержит поле x - это координата x
    * содержит поле y - это координата y
    """
    x = 0
    y = 0

def point_creator(x_arg:int, y_arg:int) -> Point:
    """
    Создает и возвращает точку с 
    координатами x_arg и y-arg
    """
    p = Point()
    p.x = x_arg
    p.y = y_arg
    return p



def length(p1 :Point, p2 :Point) -> float:
    """
    Подсчет длины отрезка на точках
    p1 p2
    """
    delta_x = p1.x-p2.x
    delta_y = p1.y - p2.y
    result = (delta_x ** 2 + delta_y ** 2) ** 0.5
    return result

def main():
    """
    Входная точка в приложение
    """
    p1 = point_creator(0,0)
    p2 = point_creator(10, 10)
    print(length(p1, p2))

if __name__ == "__main__":
    main()
```

### Шаг 3. СП-стиль
* Основная идея ***Структурно-Процедурного*** подхода состоятла в том, что сначала мы описывали состояние, а уже затем придумывали, что можно с этим состоянием сделать (добавляли различные процедуры).
```
"""Модуль содержащий описание структуры Точка."""


class Point:
    """Это структура Точки.

    * содержит поле x - это координата x
    * содержит поле y - это координата y
    """

    x = 0
    y = 0


def point_creator(x_arg: int, y_arg: int) -> Point:
    """Создает и возвращает точку с координатами x_arg и y-arg."""
    p = Point()
    p.x = x_arg
    p.y = y_arg
    return p



def length(p1: Point, p2: Point) -> float:
    """Подсчет длины отрезка на точках p1 p2."""
    delta_x = p1.x - p2.x
    delta_y = p1.y - p2.y
    result = (delta_x ** 2 + delta_y ** 2) ** 0.5
    return result


def main() -> None:
    """Входная точка в приложение."""
    p_first = point_creator(0, 0)
    p_second = point_creator(10, 10)
    print(length(p_first, p_second))


if __name__ == "__main__":
    main()

```